<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avatar Renderer - Modern Launcher</title>
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="/eel.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üé¨ Avatar Renderer</h1>
                <p class="subtitle">Multilingual Text-to-Avatar Video Generator</p>
            </div>
            <div class="status-indicator">
                <span id="api-status" class="status-badge checking">Checking API...</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Step 1: Text & Voice -->
            <section class="card">
                <div class="card-header">
                    <h2>üìù Step 1: Text & Voice</h2>
                </div>
                <div class="card-body">
                    <!-- Language and Voice Selection -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language" class="form-control">
                                <option value="en">üá¨üáß English</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="voice">Voice Profile</label>
                            <select id="voice" class="form-control">
                                <option value="sophia">üéÄ Sophia ‚Äì Friendly (Female)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Sample Texts -->
                    <div class="sample-buttons" id="sample-buttons">
                        <button class="btn btn-secondary btn-sm" onclick="loadSample('greeting')">Greeting</button>
                        <button class="btn btn-secondary btn-sm" onclick="loadSample('professional')">Professional</button>
                    </div>

                    <!-- Text Input -->
                    <div class="form-group">
                        <label for="text-input">Text to Speak</label>
                        <textarea id="text-input" class="form-control" rows="5"
                            placeholder="Enter the text you want your avatar to speak...">Hello! I am ready to create a video.</textarea>
                    </div>

                    <!-- Audio Controls -->
                    <div class="action-row">
                        <button id="generate-audio-btn" class="btn btn-primary" onclick="generateAudio()">
                            üéµ Generate Audio
                        </button>
                        <div id="audio-player-container" style="display: none;">
                            <audio id="audio-player" controls></audio>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 2: Avatar & Settings -->
            <section class="card">
                <div class="card-header">
                    <h2>üñºÔ∏è Step 2: Avatar & Settings</h2>
                </div>
                <div class="card-body">
                    <!-- Avatar Selection -->
                    <div class="form-group">
                        <label for="avatar-path">Source Image</label>
                        <div class="file-input-group">
                            <input type="text" id="avatar-path" class="form-control" readonly>
                            <input type="file" id="avatar-file" accept="image/png,image/jpeg,image/jpg"
                                style="display: none;" onchange="handleAvatarSelect(this)">
                            <button class="btn btn-secondary" onclick="document.getElementById('avatar-file').click()">
                                Browse
                            </button>
                        </div>
                        <small class="form-hint">Supported formats: PNG, JPG, JPEG</small>
                    </div>

                    <!-- Quality Settings -->
                    <div class="form-group">
                        <label for="quality">Render Quality</label>
                        <select id="quality" class="form-control">
                            <option value="auto">üîÑ Auto (Automatic)</option>
                            <option value="real_time">‚ö° Real-time (Fast)</option>
                            <option value="high_quality">‚ú® High Quality (Best)</option>
                        </select>
                        <small class="form-hint">Note: High Quality takes significantly longer to render</small>
                    </div>

                    <!-- Output Directory -->
                    <div class="form-group">
                        <label>Output Directory</label>
                        <input type="text" id="output-dir" class="form-control" readonly>
                    </div>
                </div>
            </section>

            <!-- Step 3: Generate -->
            <section class="card">
                <div class="card-header">
                    <h2>üé¨ Step 3: Generate Video</h2>
                </div>
                <div class="card-body">
                    <!-- Progress Bar -->
                    <div id="progress-container" style="display: none;">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <p id="progress-text" class="progress-text">Processing...</p>
                    </div>

                    <!-- Logs -->
                    <div class="log-container">
                        <div id="log-output" class="log-output">
                            <p class="log-line info">Ready to generate video...</p>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="action-row">
                        <button id="generate-video-btn" class="btn btn-success btn-lg" onclick="generateVideo()">
                            üé¨ START RENDER
                        </button>
                        <button class="btn btn-secondary" onclick="openOutputFolder()">
                            üìÇ Open Output Folder
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Avatar Renderer v0.1.0 | Made with ‚ù§Ô∏è by <a href="https://ruslanmv.com" target="_blank">Ruslan Magana</a></p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avatar Renderer Studio</title>
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="/eel.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="brand">
                <h1>ü§ñ AvatarStudio</h1>
                <p>AI Video Generator</p>
            </div>
            
            <div class="status-panel">
                <div class="status-item">
                    <span class="label">API Status</span>
                    <span id="api-status" class="badge checking">Connecting...</span>
                </div>
                <div class="status-item">
                    <span class="label">Engine</span>
                    <span class="badge ready">Ready</span>
                </div>
            </div>

            <div class="preview-box">
                <label>Avatar Preview</label>
                <div class="img-wrapper">
                    <img id="avatar-preview-img" src="img/placeholder.png" alt="Avatar">
                </div>
            </div>
        </aside>

        <main class="main-content">
            
            <div class="panel">
                <div class="panel-header">
                    <h2>1. Script & Audio</h2>
                </div>
                <div class="panel-body">
                    <div class="controls-row">
                        <div class="control-group">
                            <label>Language</label>
                            <select id="language"></select>
                        </div>
                        <div class="control-group">
                            <label>Voice Persona</label>
                            <select id="voice"></select>
                        </div>
                    </div>

                    <div class="samples-row" id="sample-buttons"></div>

                    <textarea id="text-input" placeholder="Type what you want your avatar to say..."></textarea>
                    
                    <div class="action-bar">
                        <button id="generate-audio-btn" class="btn primary" onclick="generateAudio()">
                            <span>üîä</span> Generate Audio
                        </button>
                        <audio id="audio-player" controls style="display:none"></audio>
                    </div>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <h2>2. Configuration</h2>
                </div>
                <div class="panel-body">
                    <div class="controls-row">
                        <div class="control-group">
                            <label>Source Image Path</label>
                            <div class="file-input">
                                <input type="text" id="avatar-path" readonly placeholder="Select an image...">
                                <button class="btn secondary" onclick="document.getElementById('avatar-file').click()">Browse</button>
                                <input type="file" id="avatar-file" accept="image/*" style="display:none" onchange="handleAvatarSelect(this)">
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Render Quality</label>
                            <select id="quality"></select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel highlight">
                <div class="panel-header">
                    <h2>3. Render Video</h2>
                </div>
                <div class="panel-body">
                    <div id="progress-container" class="hidden">
                        <div class="progress-bar"><div id="progress-fill"></div></div>
                        <p id="progress-text">Initializing...</p>
                    </div>

                    <div id="video-result-container" class="hidden">
                        <video id="video-player" controls></video>
                    </div>

                    <div class="render-actions">
                        <button id="generate-video-btn" class="btn success large" onclick="generateVideo()">
                            üé¨ Generate Video
                        </button>
                        
                        <div id="post-render-actions" class="post-render-actions hidden">
                            <button class="btn secondary" onclick="openVideoFile()">‚ñ∂ Open Player</button>
                            <button class="btn secondary" onclick="openOutputFolder()">üìÇ Open Folder</button>
                            <button class="btn danger" onclick="deleteVideo()">üóëÔ∏è Delete / Reset</button>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>
    <script src="js/app.js"></script>
</body>
</html>